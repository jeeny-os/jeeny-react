import { Canvas, Meta, Story, Source } from "@storybook/addon-docs";
import { JeenyAction } from "../JeenyAction";

<Meta title="Headless Components/How they work" component={JeenyAction} />

export const Template = (args) => <JeenyAction {...args} />;

<style>
  {`
    .subheading {
      --mediumdark: '#999999';
      font-weight: 900;
      font-size: 13px;
      color: #999;
      letter-spacing: 6px;
      line-height: 24px;
      text-transform: uppercase;
      margin-bottom: 12px;
      margin-top: 40px;
    }

    .link-list {
      display: grid;
      grid-template-columns: 1fr;
      grid-template-rows: 1fr 1fr;
      row-gap: 10px;
    }

    @media (min-width: 620px) {
      .link-list {
        row-gap: 20px;
        column-gap: 20px;
        grid-template-columns: 1fr 1fr;
      }
    }

    @media all and (-ms-high-contrast:none) {
    .link-list {
        display: -ms-grid;
        -ms-grid-columns: 1fr 1fr;
        -ms-grid-rows: 1fr 1fr;
      }
    }

    .link-item {
      display: block;
      padding: 20px 30px 20px 15px;
      border: 1px solid #00000010;
      border-radius: 5px;
      transition: background 150ms ease-out, border 150ms ease-out, transform 150ms ease-out;
      color: #333333;
      display: flex;
      align-items: flex-start;
    }

    .link-item:hover {
      border-color: #1EA7FD50;
      transform: translate3d(0, -3px, 0);
      box-shadow: rgba(0, 0, 0, 0.08) 0 3px 10px 0;
    }

    .link-item:active {
      border-color: #1EA7FD;
      transform: translate3d(0, 0, 0);
    }

    .link-item strong {
      font-weight: 700;
      display: block;
      margin-bottom: 2px;
    }

    .link-item img {
      height: 40px;
      width: 40px;
      margin-right: 15px;
      flex: none;
    }

    .link-item span {
      font-size: 14px;
      line-height: 20px;
    }

    .tip {
      display: inline-block;
      border-radius: 1em;
      font-size: 11px;
      line-height: 12px;
      font-weight: 700;
      background: #E7FDD8;
      color: #66BF3C;
      padding: 4px 12px;
      margin-right: 10px;
      vertical-align: top;
    }

    .tip-wrapper {
      font-size: 13px;
      line-height: 20px;
      margin-top: 40px;
      margin-bottom: 40px;
    }

    .tip-wrapper code {
      font-size: 12px;
      display: inline-block;
    }

    .spacer {
      height: 24px
    }
  `}
</style>

# Headless Components

In order to easily build your applications your way, with your own components and styles, we've provided a set of headless components to make that easy. They help you by providing the logic, but leave all of the design and user experience up to you.

A Jeeny headless component is a fully typed component that allows you to hit the Jeeny API without the risk of passing an invalid payload. They contain no elements themselves which gives you the freedom to create your experience.

<div className="spacer" />

## JeenyAction

<div className="tip-wrapper">
  The JeenyAction component gives you easy access to every mutation in the Jeeny
  API. Through it's childRender prop you receive a fully typed{" "}
  <code>submit</code> function that you can use however you want, whether it's
  an <code>onClick</code> event or added to any other logic you require.
</div>

<div className="tip-wrapper">
  The JeenyAction component takes two props. The first prop, <code>action</code>
  , indicates what GraphQL mutation you wish to interact with. Depending on that
  prop, whether it is <code>createItem</code> or <code>pickLocation</code>, the
  expectations of the second prop will change. In the source code below you can
  see we are rendering a `SmartAction` component. The `submit` function that we
  passed to our button's `onClick` will only accept the object with a shape that
  matches the Jeeny Type `ItemInput`.
</div>

<div className="tip-wrapper">
  If we were to change the `action` to `saveSupplier` then the submit function
  would then expect an object with a shape that matches the Jeeny Type
  `SupplierInputUpdate`.
</div>

<Source id="headless-components-jeenyaction--example" />
